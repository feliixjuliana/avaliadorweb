<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Setor de Avaliação</title>
</head>

<body>

    <h1> Mini avaliador: </h1>
    <h4> Um avaliador simples para você falar <br> sua opinião quanto aos citados aqui.</h4>

    <section method="get" class="estrutura">
        <form action="" class="estrutura">
            <select name="selec1" id="selec1" class="escolha" onchange="opcoesSelec2()">
                <option value="">Escolha uma das opções</option>
                <option value="Animes">Anime</option>
                <option value="Filmes">Filme</option>
                <option value="Series">Série</option>
            </select>
            <select name="selec2" id="selec2" class="escolha"></select>
        </form>

        <h5>Informe sua opinião sobre o(a) selecionado(a):</h5>
        <main class="alinhamento">
            <input type="text" name="campoTexto" id="campoTexto" placeholder="Opine sobre o selecionado:">
            <button onclick="movendoElementos()">Enviar</button>
        </main>

        <main class="estrutura" id="pai_campo1"></main>
        
    </section>

    <script>

        // Adiciona as opções no segundo select

        function opcoesSelec2() {
            let selec1 = document.getElementById("selec1");

            let selec2 = document.getElementById("selec2");

            for (var i = selec2.children.length - 1; i >= 0; i--) {
                selec2.removeChild(selec2.children[i])
            }

            var op0 = document.createElement("option");
            op0.innerHTML = "Selecione uma opção";
            selec2.appendChild(op0);

            if (selec1.value == "Animes") {

                var op1 = document.createElement("option");
                op1.innerHTML = "Atack on Titan";
                op1.value = "Atack on Titan";
                selec2.appendChild(op1);

                var op2 = document.createElement("option");
                op2.innerHTML = "Dragon Ball Z";
                op2.value = "Dragon Ball Z";
                selec2.appendChild(op2);

                var op3 = document.createElement("option");
                op3.innerHTML = "Demon Slayer";
                op3.value = "Demon Slayer";
                selec2.appendChild(op3);

                var op4 = document.createElement("option");
                op4.innerHTML = "One Piece";
                op4.value = "One Piece";
                selec2.appendChild(op4);

                var op5 = document.createElement("option");
                op5.innerHTML = "Death Note";
                op5.value = "Death Note";
                selec2.appendChild(op5);

                var op6 = document.createElement("option");
                op6.innerHTML = "Princesa Mononoke";
                op6.value = "Princesa Mononoke";
                selec2.appendChild(op6);

                var op7 = document.createElement("option");
                op7.innerHTML = "O Castelo Animado";
                op7.value = "O Castelo Animado";
                selec2.appendChild(op7);

                var op8 = document.createElement("option");
                op8.innerHTML = "Túmulo de Vagalumes";
                op8.value = "Túmulo de Vagamules";
                selec2.appendChild(op8);

                var op9 = document.createElement("option");
                op9.innerHTML = "Hunter x Hunter";
                op9.value = "Hunter x Hunter";
                selec2.appendChild(op9);

                var op10 = document.createElement("option");
                op10.innerHTML = "Cavaleiros do Zodíaco";
                op10.value = "Cavaleiros do Zodíaco";
                selec2.appendChild(op10);

            } else if (selec1.value == "Filmes") {

                var op1 = document.createElement("option");
                op1.innerHTML = "As Branquelas";
                op1.value = "As Branquelas";
                selec2.appendChild(op1);

                var op2 = document.createElement("option");
                op2.innerHTML = "Gente Grande";
                op2.value = "Gente Grande";
                selec2.appendChild(op2);

                var op3 = document.createElement("option");
                op3.innerHTML = " SAGA: Harry Potter";
                op3.value = "Harry Potter";
                selec2.appendChild(op3);

                var op4 = document.createElement("option");
                op4.innerHTML = "SAGA: Jurassic Park";
                op4.value = "Jurassic Park";
                selec2.appendChild(op4);

                var op5 = document.createElement("option");
                op5.innerHTML = "SACA: Percy Jackson";
                op5.value = "SACA: Percy Jackson";
                selec2.appendChild(op5);

                var op6 = document.createElement("option");
                op6.innerHTML = "Megatubarão";
                op6.value = "Megatubarão";
                selec2.appendChild(op6);

                var op7 = document.createElement("option");
                op7.innerHTML = "SAGA: After";
                op7.value = "SAGA: After";
                selec2.appendChild(op7);

                var op8 = document.createElement("option");
                op8.innerHTML = "Túmulo de Vagalumes";
                op8.value = "Túmulo de Vagamules";
                selec2.appendChild(op8);

                var op9 = document.createElement("option");
                op9.innerHTML = "O Auto da Compadecida";
                op9.value = "O Auto da Compadecida";
                selec2.appendChild(op9);

                var op10 = document.createElement("option");
                op10.innerHTML = "SAGA: A Minha Mãe é uma Peça";
                op10.value = "SAGA: A Minha Mãe é uma Peça";
                selec2.appendChild(op10);


            } else if (selec1.value == "Series") {

                var op1 = document.createElement("option");
                op1.innerHTML = "Game of Thrones";
                op1.value = "Game of Thrones";
                selec2.appendChild(op1);

                var op2 = document.createElement("option");
                op2.innerHTML = "Lost";
                op2.value = "Lost";
                selec2.appendChild(op2);

                var op3 = document.createElement("option");
                op3.innerHTML = "Stranger Things";
                op3.value = "Stranger Things";
                selec2.appendChild(op3);

                var op4 = document.createElement("option");
                op4.innerHTML = "The Office";
                op4.value = "The Office";
                selec2.appendChild(op4);

                var op5 = document.createElement("option");
                op5.innerHTML = "Loki";
                op5.value = "Loki";
                selec2.appendChild(op5);

                var op6 = document.createElement("option");
                op6.innerHTML = "Criminal Minds";
                op6.value = "Criminal Minds";
                selec2.appendChild(op6);

                var op7 = document.createElement("option");
                op7.innerHTML = "Chicago P.D";
                op7.value = "Chicago P.D";
                selec2.appendChild(op7);


                var op8 = document.createElement("option");
                op8.innerHTML = "Sherlock Holmes";
                op8.value = "Sherlock Holmes";
                selec2.appendChild(op8);

                var op9 = document.createElement("option");
                op9.innerHTML = "Lupin";
                op9.value = "Lupin";
                selec2.appendChild(op9);

                var op10 = document.createElement("option");
                op10.innerHTML = "A Roda do Tempo";
                op10.value = "A Roda do Tempo";
                selec2.appendChild(op10);
            }
        }


        function movendoElementos() {

            var selec1 = document.getElementById("selec1");
            var selec2 = document.getElementById("selec2");
            var opiniao = document.getElementById("campoTexto");
            var reservandovalor = opiniao.value;
            var reservandoselec1 = selec1.value;
            var reservandoselec2 = selec2.value;

            let texto = selec1.value + ", " + selec2.value + ", " + campoTexto.value;

            // Pegando o elemento pai do primeiro campo

            let pai_campo1 = document.getElementById("pai_campo1");

            // Criando a div que será o primero campo e atribuindo seus valores

            let campo1 = document.createElement("div");
            campo1.classList.add("campo");
            campo1.id = "campo1";


            let div = document.createElement("div");
            div.classList.add("alinhamento");
            

            // Criando a div na qual o campo1 será inserido

            let div_campo1 = document.createElement("div");
            div_campo1.appendChild(campo1);

            // Criando a div na qual os icones serão inseridos

            let div_icones = document.createElement("div");
            div_icones.classList.add("alinhamento");

            // Criando o icone verde do primeiro campo. Esse será o icone de edição

            var editar = document.createElement("button");
            editar.innerHTML = "Editar";
            editar.onclick = function () {
                selec1.value= reservandoselec1;
                opiniao.value= reservandovalor;
                selec2.value= reservandoselec2;

                
                for (var i = div_campo1.children.length - 1; i >= 0; i--) {
                    div_campo1.removeChild(div_campo1.children[i]);
                }
                for (var i = div_icones.children.length - 1; i >= 0; i--) {
                    div_icones.removeChild(div_icones.children[i]);
                }
            }
            div_icones.appendChild(editar);

            // Criando o icone vermelho do primeiro campo. Esse será o icone de exclusão

            let iconeVermelho1 = document.createElement("aside");
            iconeVermelho1.classList.add("icone");
            iconeVermelho1.id = "iconeVermelho1";
            div_icones.appendChild(iconeVermelho1);

            // Criando o elemento span 

            let span = document.createElement("span");
            // Atribuindo ao span o conteudo da variá~vel texto

            span.textContent = texto;

            // Colocando o elemento span no campo1

            campo1.appendChild(span);

            // colocando a div no pai_campo1
            div.appendChild(div_campo1);
            div.appendChild(div_icones);
            pai_campo1.appendChild(div);

            // Função que ao clicar no icone VERMELHO apaga todo o conteudo do primeiro campo.(Inclusive os icones)

            iconeVermelho1.onclick = function () {
                for (var i = div_campo1.children.length - 1; i >= 0; i--) {
                    div_campo1.removeChild(div_campo1.children[i]);
                    
                }
                for (var i = div_icones.children.length - 1; i >= 0; i--) {
                    div_icones.removeChild(div_icones.children[i]);
                }
                
               
            }

        
            selec1.selectedIndex = 0;
            selec2.value = "";
            opiniao.value = "";
            
            
        }

       


    </script>
</body>

</html>